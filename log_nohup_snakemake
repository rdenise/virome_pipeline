Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 45
Rules claiming more threads will be scaled down.
Singularity containers: ignored
Job stats:
job                            count    min threads    max threads
---------------------------  -------  -------------  -------------
all                                1              1              1
annotate_viral_taxonomy            1              1              1
blastn                            70              2              2
blastn_human                      10              2              2
checkv_run                        10              5              5
checkv_setup                       1              1              1
combine_virsorter_virfinder       10              1              1
concat_results_domtblout           1              1              1
concat_results_tblout              1              1              1
deepvirfinder                     10              5              5
deepvirfinder_postprocess         10              1              1
dramv_annotate                    10              5              5
dramv_annotate_missing            10              5              5
dramv_distill                     20              5              5
hmmsearch                         20              5              5
merge_annotation                  10              1              1
merge_blastn                       1              1              1
merge_blastn_human                10              1              1
postprocess_hmmsearch              1              1              1
prepare_missing_annotation        10              1              1
vcontact2                         10              5              5
vcontact2_preprocess              10              1              1
virsorter_postprocess_step1       10              1              1
virsorter_postprocess_step2       10              1              1
virsorter_run_step1               10              5              5
virsorter_run_step2               10              5              5
total                            277              1              5

Select jobs to execute...

[Wed Apr 27 20:40:29 2022]
rule blastn_human:
    input: ../paleofeces_denovo_contigs/ZSM216_contigs.sorted.fasta
    output: results/paleofeces/processing_files/blast/human/ZSM216_contigs.nt.human.blastn.outfmt6.txt
    log: results/paleofeces/logs/blast/human/ZSM216_contigs.nt.human.blastn.outfmt6.log
    jobid: 156
    wildcards: sample=ZSM216_contigs
    threads: 2
    resources: tmpdir=/tmp, cpus=2

Activating conda environment: /data/san/data0/users/remi/paleofeces_colab/virome_pipeline/.snakemake/conda/fd2b7a3c71bc1ad8eceb5984259cd7ec

[Wed Apr 27 20:40:29 2022]
rule blastn_human:
    input: ../paleofeces_denovo_contigs/ZSM101_contigs.sorted.fasta
    output: results/paleofeces/processing_files/blast/human/ZSM101_contigs.nt.human.blastn.outfmt6.txt
    log: results/paleofeces/logs/blast/human/ZSM101_contigs.nt.human.blastn.outfmt6.log
    jobid: 9
    wildcards: sample=ZSM101_contigs
    threads: 2
    resources: tmpdir=/tmp, cpus=2

Activating conda environment: /data/san/data0/users/remi/paleofeces_colab/virome_pipeline/.snakemake/conda/fd2b7a3c71bc1ad8eceb5984259cd7ec

[Wed Apr 27 20:40:29 2022]
rule blastn_human:
    input: ../paleofeces_denovo_contigs/ZSM005_contigs.sorted.fasta
    output: results/paleofeces/processing_files/blast/human/ZSM005_contigs.nt.human.blastn.outfmt6.txt
    log: results/paleofeces/logs/blast/human/ZSM005_contigs.nt.human.blastn.outfmt6.log
    jobid: 48
    wildcards: sample=ZSM005_contigs
    threads: 2
    resources: tmpdir=/tmp, cpus=2

Activating conda environment: /data/san/data0/users/remi/paleofeces_colab/virome_pipeline/.snakemake/conda/fd2b7a3c71bc1ad8eceb5984259cd7ec

[Wed Apr 27 20:40:29 2022]
rule blastn_human:
    input: ../paleofeces_denovo_contigs/ZSM031_contigs.sorted.fasta
    output: results/paleofeces/processing_files/blast/human/ZSM031_contigs.nt.human.blastn.outfmt6.txt
    log: results/paleofeces/logs/blast/human/ZSM031_contigs.nt.human.blastn.outfmt6.log
    jobid: 102
    wildcards: sample=ZSM031_contigs
    threads: 2
    resources: tmpdir=/tmp, cpus=2

Activating conda environment: /data/san/data0/users/remi/paleofeces_colab/virome_pipeline/.snakemake/conda/fd2b7a3c71bc1ad8eceb5984259cd7ec

[Wed Apr 27 20:40:29 2022]
rule blastn_human:
    input: ../paleofeces_denovo_contigs/ZSM025_contigs.sorted.fasta
    output: results/paleofeces/processing_files/blast/human/ZSM025_contigs.nt.human.blastn.outfmt6.txt
    log: results/paleofeces/logs/blast/human/ZSM025_contigs.nt.human.blastn.outfmt6.log
    jobid: 84
    wildcards: sample=ZSM025_contigs
    threads: 2
    resources: tmpdir=/tmp, cpus=2

Activating conda environment: /data/san/data0/users/remi/paleofeces_colab/virome_pipeline/.snakemake/conda/fd2b7a3c71bc1ad8eceb5984259cd7ec

[Wed Apr 27 20:40:29 2022]
rule blastn_human:
    input: ../paleofeces_denovo_contigs/ZSM103_contigs.sorted.fasta
    output: results/paleofeces/processing_files/blast/human/ZSM103_contigs.nt.human.blastn.outfmt6.txt
    log: results/paleofeces/logs/blast/human/ZSM103_contigs.nt.human.blastn.outfmt6.log
    jobid: 30
    wildcards: sample=ZSM103_contigs
    threads: 2
    resources: tmpdir=/tmp, cpus=2

Activating conda environment: /data/san/data0/users/remi/paleofeces_colab/virome_pipeline/.snakemake/conda/fd2b7a3c71bc1ad8eceb5984259cd7ec

[Wed Apr 27 20:40:29 2022]
rule blastn_human:
    input: ../paleofeces_denovo_contigs/ZSM027_contigs.sorted.fasta
    output: results/paleofeces/processing_files/blast/human/ZSM027_contigs.nt.human.blastn.outfmt6.txt
    log: results/paleofeces/logs/blast/human/ZSM027_contigs.nt.human.blastn.outfmt6.log
    jobid: 138
    wildcards: sample=ZSM027_contigs
    threads: 2
    resources: tmpdir=/tmp, cpus=2

Activating conda environment: /data/san/data0/users/remi/paleofeces_colab/virome_pipeline/.snakemake/conda/fd2b7a3c71bc1ad8eceb5984259cd7ec

[Wed Apr 27 20:40:29 2022]
rule blastn_human:
    input: ../paleofeces_denovo_contigs/ZSM028_contigs.sorted.fasta
    output: results/paleofeces/processing_files/blast/human/ZSM028_contigs.nt.human.blastn.outfmt6.txt
    log: results/paleofeces/logs/blast/human/ZSM028_contigs.nt.human.blastn.outfmt6.log
    jobid: 66
    wildcards: sample=ZSM028_contigs
    threads: 2
    resources: tmpdir=/tmp, cpus=2

Activating conda environment: /data/san/data0/users/remi/paleofeces_colab/virome_pipeline/.snakemake/conda/fd2b7a3c71bc1ad8eceb5984259cd7ec

[Wed Apr 27 20:40:29 2022]
rule blastn_human:
    input: ../paleofeces_denovo_contigs/ZSM214_contigs.sorted.fasta
    output: results/paleofeces/processing_files/blast/human/ZSM214_contigs.nt.human.blastn.outfmt6.txt
    log: results/paleofeces/logs/blast/human/ZSM214_contigs.nt.human.blastn.outfmt6.log
    jobid: 120
    wildcards: sample=ZSM214_contigs
    threads: 2
    resources: tmpdir=/tmp, cpus=2

Activating conda environment: /data/san/data0/users/remi/paleofeces_colab/virome_pipeline/.snakemake/conda/fd2b7a3c71bc1ad8eceb5984259cd7ec

[Wed Apr 27 20:40:29 2022]
rule checkv_setup:
    output: results/paleofeces/databases/checkv_db/checkv-db-v1.0
    log: results/paleofeces/logs/checkv/checkv_setup.log
    jobid: 12
    resources: tmpdir=/tmp, cpus=1

Activating conda environment: /data/san/data0/users/remi/paleofeces_colab/virome_pipeline/.snakemake/conda/45e309d0e880413ddb79eed1b83a6fa0

[Wed Apr 27 20:40:29 2022]
rule blastn_human:
    input: ../paleofeces_denovo_contigs/ZSM102_contigs.sorted.fasta
    output: results/paleofeces/processing_files/blast/human/ZSM102_contigs.nt.human.blastn.outfmt6.txt
    log: results/paleofeces/logs/blast/human/ZSM102_contigs.nt.human.blastn.outfmt6.log
    jobid: 174
    wildcards: sample=ZSM102_contigs
    threads: 2
    resources: tmpdir=/tmp, cpus=2

Activating conda environment: /data/san/data0/users/remi/paleofeces_colab/virome_pipeline/.snakemake/conda/fd2b7a3c71bc1ad8eceb5984259cd7ec
[Wed Apr 27 20:40:30 2022]
Error in rule blastn_human:
    jobid: 174
    output: results/paleofeces/processing_files/blast/human/ZSM102_contigs.nt.human.blastn.outfmt6.txt
    log: results/paleofeces/logs/blast/human/ZSM102_contigs.nt.human.blastn.outfmt6.log (check log file(s) for error message)
    conda-env: /data/san/data0/users/remi/paleofeces_colab/virome_pipeline/.snakemake/conda/fd2b7a3c71bc1ad8eceb5984259cd7ec
    shell:
        
        blastn -query '../paleofeces_denovo_contigs/ZSM102_contigs.sorted.fasta' -db nt -evalue 0.0001                -task blastn -remote -entrez_query "Homo sapiens [organism] AND GRCh38"                 -word_size 28 -best_hit_overhang 0.1 -best_hit_score_edge 0.1 -dust yes                 -outfmt '6 qseqid sseqid pident length qlen slen evalue qstart qend sstart send stitle'                -min_raw_gapped_score 100 -penalty −5 -perc_identity 90 -soft_masking true                -out 'results/paleofeces/processing_files/blast/human/ZSM102_contigs.nt.human.blastn.outfmt6.txt' -max_target_seqs 10 2>> 'results/paleofeces/logs/blast/human/ZSM102_contigs.nt.human.blastn.outfmt6.log'
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

[Wed Apr 27 20:40:30 2022]
Error in rule blastn_human:
    jobid: 66
    output: results/paleofeces/processing_files/blast/human/ZSM028_contigs.nt.human.blastn.outfmt6.txt
    log: results/paleofeces/logs/blast/human/ZSM028_contigs.nt.human.blastn.outfmt6.log (check log file(s) for error message)
    conda-env: /data/san/data0/users/remi/paleofeces_colab/virome_pipeline/.snakemake/conda/fd2b7a3c71bc1ad8eceb5984259cd7ec
    shell:
        
        blastn -query '../paleofeces_denovo_contigs/ZSM028_contigs.sorted.fasta' -db nt -evalue 0.0001                -task blastn -remote -entrez_query "Homo sapiens [organism] AND GRCh38"                 -word_size 28 -best_hit_overhang 0.1 -best_hit_score_edge 0.1 -dust yes                 -outfmt '6 qseqid sseqid pident length qlen slen evalue qstart qend sstart send stitle'                -min_raw_gapped_score 100 -penalty −5 -perc_identity 90 -soft_masking true                -out 'results/paleofeces/processing_files/blast/human/ZSM028_contigs.nt.human.blastn.outfmt6.txt' -max_target_seqs 10 2>> 'results/paleofeces/logs/blast/human/ZSM028_contigs.nt.human.blastn.outfmt6.log'
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

[Wed Apr 27 20:40:30 2022]
[Wed Apr 27 20:40:30 2022]
[Wed Apr 27 20:40:30 2022]
Error in rule blastn_human:
    jobid: 156
    output: results/paleofeces/processing_files/blast/human/ZSM216_contigs.nt.human.blastn.outfmt6.txt
    log: results/paleofeces/logs/blast/human/ZSM216_contigs.nt.human.blastn.outfmt6.log (check log file(s) for error message)
    conda-env: /data/san/data0/users/remi/paleofeces_colab/virome_pipeline/.snakemake/conda/fd2b7a3c71bc1ad8eceb5984259cd7ec
    shell:
        
        blastn -query '../paleofeces_denovo_contigs/ZSM216_contigs.sorted.fasta' -db nt -evalue 0.0001                -task blastn -remote -entrez_query "Homo sapiens [organism] AND GRCh38"                 -word_size 28 -best_hit_overhang 0.1 -best_hit_score_edge 0.1 -dust yes                 -outfmt '6 qseqid sseqid pident length qlen slen evalue qstart qend sstart send stitle'                -min_raw_gapped_score 100 -penalty −5 -perc_identity 90 -soft_masking true                -out 'results/paleofeces/processing_files/blast/human/ZSM216_contigs.nt.human.blastn.outfmt6.txt' -max_target_seqs 10 2>> 'results/paleofeces/logs/blast/human/ZSM216_contigs.nt.human.blastn.outfmt6.log'
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

[Wed Apr 27 20:40:30 2022]
[Wed Apr 27 20:40:30 2022]
[Wed Apr 27 20:40:30 2022]
[Wed Apr 27 20:40:30 2022]
Error in rule blastn_human:
    jobid: 84
    output: results/paleofeces/processing_files/blast/human/ZSM025_contigs.nt.human.blastn.outfmt6.txt
    log: results/paleofeces/logs/blast/human/ZSM025_contigs.nt.human.blastn.outfmt6.log (check log file(s) for error message)
    conda-env: /data/san/data0/users/remi/paleofeces_colab/virome_pipeline/.snakemake/conda/fd2b7a3c71bc1ad8eceb5984259cd7ec
    shell:
        
        blastn -query '../paleofeces_denovo_contigs/ZSM025_contigs.sorted.fasta' -db nt -evalue 0.0001                -task blastn -remote -entrez_query "Homo sapiens [organism] AND GRCh38"                 -word_size 28 -best_hit_overhang 0.1 -best_hit_score_edge 0.1 -dust yes                 -outfmt '6 qseqid sseqid pident length qlen slen evalue qstart qend sstart send stitle'                -min_raw_gapped_score 100 -penalty −5 -perc_identity 90 -soft_masking true                -out 'results/paleofeces/processing_files/blast/human/ZSM025_contigs.nt.human.blastn.outfmt6.txt' -max_target_seqs 10 2>> 'results/paleofeces/logs/blast/human/ZSM025_contigs.nt.human.blastn.outfmt6.log'
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

[Wed Apr 27 20:40:30 2022]
Error in rule blastn_human:
    jobid: 120
    output: results/paleofeces/processing_files/blast/human/ZSM214_contigs.nt.human.blastn.outfmt6.txt
    log: results/paleofeces/logs/blast/human/ZSM214_contigs.nt.human.blastn.outfmt6.log (check log file(s) for error message)
    conda-env: /data/san/data0/users/remi/paleofeces_colab/virome_pipeline/.snakemake/conda/fd2b7a3c71bc1ad8eceb5984259cd7ec
    shell:
        
        blastn -query '../paleofeces_denovo_contigs/ZSM214_contigs.sorted.fasta' -db nt -evalue 0.0001                -task blastn -remote -entrez_query "Homo sapiens [organism] AND GRCh38"                 -word_size 28 -best_hit_overhang 0.1 -best_hit_score_edge 0.1 -dust yes                 -outfmt '6 qseqid sseqid pident length qlen slen evalue qstart qend sstart send stitle'                -min_raw_gapped_score 100 -penalty −5 -perc_identity 90 -soft_masking true                -out 'results/paleofeces/processing_files/blast/human/ZSM214_contigs.nt.human.blastn.outfmt6.txt' -max_target_seqs 10 2>> 'results/paleofeces/logs/blast/human/ZSM214_contigs.nt.human.blastn.outfmt6.log'
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Error in rule blastn_human:
    jobid: 102
    output: results/paleofeces/processing_files/blast/human/ZSM031_contigs.nt.human.blastn.outfmt6.txt
    log: results/paleofeces/logs/blast/human/ZSM031_contigs.nt.human.blastn.outfmt6.log (check log file(s) for error message)
    conda-env: /data/san/data0/users/remi/paleofeces_colab/virome_pipeline/.snakemake/conda/fd2b7a3c71bc1ad8eceb5984259cd7ec
    shell:
        
        blastn -query '../paleofeces_denovo_contigs/ZSM031_contigs.sorted.fasta' -db nt -evalue 0.0001                -task blastn -remote -entrez_query "Homo sapiens [organism] AND GRCh38"                 -word_size 28 -best_hit_overhang 0.1 -best_hit_score_edge 0.1 -dust yes                 -outfmt '6 qseqid sseqid pident length qlen slen evalue qstart qend sstart send stitle'                -min_raw_gapped_score 100 -penalty −5 -perc_identity 90 -soft_masking true                -out 'results/paleofeces/processing_files/blast/human/ZSM031_contigs.nt.human.blastn.outfmt6.txt' -max_target_seqs 10 2>> 'results/paleofeces/logs/blast/human/ZSM031_contigs.nt.human.blastn.outfmt6.log'
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Error in rule blastn_human:
    jobid: 138
    output: results/paleofeces/processing_files/blast/human/ZSM027_contigs.nt.human.blastn.outfmt6.txt
    log: results/paleofeces/logs/blast/human/ZSM027_contigs.nt.human.blastn.outfmt6.log (check log file(s) for error message)
    conda-env: /data/san/data0/users/remi/paleofeces_colab/virome_pipeline/.snakemake/conda/fd2b7a3c71bc1ad8eceb5984259cd7ec
    shell:
        
        blastn -query '../paleofeces_denovo_contigs/ZSM027_contigs.sorted.fasta' -db nt -evalue 0.0001                -task blastn -remote -entrez_query "Homo sapiens [organism] AND GRCh38"                 -word_size 28 -best_hit_overhang 0.1 -best_hit_score_edge 0.1 -dust yes                 -outfmt '6 qseqid sseqid pident length qlen slen evalue qstart qend sstart send stitle'                -min_raw_gapped_score 100 -penalty −5 -perc_identity 90 -soft_masking true                -out 'results/paleofeces/processing_files/blast/human/ZSM027_contigs.nt.human.blastn.outfmt6.txt' -max_target_seqs 10 2>> 'results/paleofeces/logs/blast/human/ZSM027_contigs.nt.human.blastn.outfmt6.log'
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Error in rule blastn_human:
    jobid: 48
    output: results/paleofeces/processing_files/blast/human/ZSM005_contigs.nt.human.blastn.outfmt6.txt
    log: results/paleofeces/logs/blast/human/ZSM005_contigs.nt.human.blastn.outfmt6.log (check log file(s) for error message)
    conda-env: /data/san/data0/users/remi/paleofeces_colab/virome_pipeline/.snakemake/conda/fd2b7a3c71bc1ad8eceb5984259cd7ec
    shell:
        
        blastn -query '../paleofeces_denovo_contigs/ZSM005_contigs.sorted.fasta' -db nt -evalue 0.0001                -task blastn -remote -entrez_query "Homo sapiens [organism] AND GRCh38"                 -word_size 28 -best_hit_overhang 0.1 -best_hit_score_edge 0.1 -dust yes                 -outfmt '6 qseqid sseqid pident length qlen slen evalue qstart qend sstart send stitle'                -min_raw_gapped_score 100 -penalty −5 -perc_identity 90 -soft_masking true                -out 'results/paleofeces/processing_files/blast/human/ZSM005_contigs.nt.human.blastn.outfmt6.txt' -max_target_seqs 10 2>> 'results/paleofeces/logs/blast/human/ZSM005_contigs.nt.human.blastn.outfmt6.log'
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Error in rule blastn_human:
    jobid: 30
    output: results/paleofeces/processing_files/blast/human/ZSM103_contigs.nt.human.blastn.outfmt6.txt
    log: results/paleofeces/logs/blast/human/ZSM103_contigs.nt.human.blastn.outfmt6.log (check log file(s) for error message)
    conda-env: /data/san/data0/users/remi/paleofeces_colab/virome_pipeline/.snakemake/conda/fd2b7a3c71bc1ad8eceb5984259cd7ec
    shell:
        
        blastn -query '../paleofeces_denovo_contigs/ZSM103_contigs.sorted.fasta' -db nt -evalue 0.0001                -task blastn -remote -entrez_query "Homo sapiens [organism] AND GRCh38"                 -word_size 28 -best_hit_overhang 0.1 -best_hit_score_edge 0.1 -dust yes                 -outfmt '6 qseqid sseqid pident length qlen slen evalue qstart qend sstart send stitle'                -min_raw_gapped_score 100 -penalty −5 -perc_identity 90 -soft_masking true                -out 'results/paleofeces/processing_files/blast/human/ZSM103_contigs.nt.human.blastn.outfmt6.txt' -max_target_seqs 10 2>> 'results/paleofeces/logs/blast/human/ZSM103_contigs.nt.human.blastn.outfmt6.log'
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Error in rule blastn_human:
    jobid: 9
    output: results/paleofeces/processing_files/blast/human/ZSM101_contigs.nt.human.blastn.outfmt6.txt
    log: results/paleofeces/logs/blast/human/ZSM101_contigs.nt.human.blastn.outfmt6.log (check log file(s) for error message)
    conda-env: /data/san/data0/users/remi/paleofeces_colab/virome_pipeline/.snakemake/conda/fd2b7a3c71bc1ad8eceb5984259cd7ec
    shell:
        
        blastn -query '../paleofeces_denovo_contigs/ZSM101_contigs.sorted.fasta' -db nt -evalue 0.0001                -task blastn -remote -entrez_query "Homo sapiens [organism] AND GRCh38"                 -word_size 28 -best_hit_overhang 0.1 -best_hit_score_edge 0.1 -dust yes                 -outfmt '6 qseqid sseqid pident length qlen slen evalue qstart qend sstart send stitle'                -min_raw_gapped_score 100 -penalty −5 -perc_identity 90 -soft_masking true                -out 'results/paleofeces/processing_files/blast/human/ZSM101_contigs.nt.human.blastn.outfmt6.txt' -max_target_seqs 10 2>> 'results/paleofeces/logs/blast/human/ZSM101_contigs.nt.human.blastn.outfmt6.log'
        
        (one of the commands exited with non-zero exit code; note that snakemake uses bash strict mode!)

Waiting at most 5 seconds for missing files.
MissingOutputException in line 9 of /data/san/data0/users/remi/paleofeces_colab/virome_pipeline/workflow/rules/checkv.smk:
Job Missing files after 5 seconds:
results/paleofeces/databases/checkv_db/checkv-db-v1.0
This might be due to filesystem latency. If that is the case, consider to increase the wait time with --latency-wait.
Job id: 12 completed successfully, but some output files are missing. 12
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: /data/san/data0/users/remi/paleofeces_colab/virome_pipeline/.snakemake/log/2022-04-27T204003.908648.snakemake.log
The file: ZSM219_contigs.sorted.fasta does not have contigs above 5000
